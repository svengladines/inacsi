<!DOCTYPE html>
<html>

<head>
	
	<title>ACSI artikel</title>
	
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
	<meta http-equiv="Pragma" content="no-cache"/>
	<meta http-equiv="Expires" content="0"/>
	
    <!-- Bootstrap core CSS -->
    <link href="resources/bootstrap-3.3.5/css/bootstrap.css" rel="stylesheet">
    <link href="resources/bootstrap-3.3.5/css/bootstrap-theme.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="resources/css/inacsi.css" rel="stylesheet">
    <link href="resources/css/inacsi-admin.css" rel="stylesheet">
    
    <!-- Awesome fonts -->
    <link href="resources/font-awesome-4.5.0/css/font-awesome.css" rel="stylesheet">
    
    <!-- Other fonts -->
    <link href="http://fonts.googleapis.com/css?family=Great+Vibes" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Merienda+One" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300' rel='stylesheet' type='text/css'>
    
    <!-- captcha -->
    <script src='https://www.google.com/recaptcha/api.js'></script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>
		
	<script type="text/javascript" src="resources/javascript/jquery-1.10.2.js"></script>
    <script type="text/javascript" src="resources/javascript/lodash-4.5.1.js"></script>
    <script type="text/javascript" src="resources/javascript/moment.js"></script>
    <script type="text/javascript" src="resources/javascript/templates.js"></script>
    <script type="text/javascript" src="resources/bootstrap-3.3.5/js/bootstrap.js"></script>	
    <script type="text/javascript" src="resources/javascript/inacsi.js"></script>	
    
    <script type="text/javascript" src="resources/tinymce-4.7.0/js/tinymce/tinymce.min.js"></script> 

</head>

<body>

    <div class="navbar navbar navbar-acsi">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <div>
          		<img src="resources/images/logo.gif" title="ACSI" height="60"/>
          </div>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="edit.html">Bewerken</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
    
	<section>
	
		<div class="section-header south">
	
			<div class="container">
	
				<div class="row centered">
				
					<h4>Bewerken</h4>
					<p>
						Pas de tekst van een artikel van de website aan.
					</p>
				</div>
			
			</div>
		
		</div>
		
		<br/>
	
		<div class="container">
		
			<div class="row">
			
				<p>
					Klik op het deel van het artikel dat je wil aanpassen.
				</p>
			
				<div class="article col-s-12">
				
					
				
				</div>
			
			</div>
		</div>
			
	</section>
	
	<section class="section-footer">
		<div class="container">
		<div class="row">
			<div class="col-sm-4">
				<h4>Groepspraktijk Nieuwrode</h4>
				<p>
					Dorp 13, bus 1<br/>
					3221 Nieuwrode
				</p>
			</div>
			<div class="col-sm-4">
				<h4>Praktijkruimte Linden</h4>
				<p>
					Houwaartstraat 114<br/>
					3210 Linden
				</p>
			</div>
			<div class="col-sm-4">
				<h4>Contacteer ons</h4>
				<ul class="list-unstyled">
					<li><i class="fa fa-phone"></i>&nbsp;&nbsp;<strong>016/43.55.71</strong></li>
					<li><i class="fa fa-envelope"></i>&nbsp;&nbsp;&nbsp;info@inacsi.be
				</ul>
			</div>
		</div>
		<div class="row">
			<div class="col-xs-12">
				<span><i class="fa fa-copyright"></i>&nbsp; ACSI 2016</span>
			</div>
		</div>
	</div>
	</section>
	
	<script>
	
		var $jq = jQuery.noConflict();
		
		var renderCurrentArticle = function( article ) {
			
			$jq("#article-current-id").val( article.id );
			$jq("#article-current-title").html( article.title );
			$jq("#article-current-text").html( article.text );
			
		};
		
		var renderNewArticle = function( article ) {
			
			$jq("#title").html( article.title );
			$jq("#text").html( article.text );
			
		};
		
		var getArticle = function ( url, callbacks ) {
			
			$jq.ajax( {
				type: "get",
				url: url,
				dataType: "json",
			    processData: false,
				success: function( returned ) {
					if ( callbacks ) {
						for ( var i in callbacks ) {
							var callback = callbacks[ i ];
							callback( returned );	
						}
						
					}
					else {
						// success( button, statusElement, "Opgeslagen" );
					}
				},
				error: function(  jqXHR, textStatus, errorThrown ) {
					console.log( errorThrown );
				}
			});
			
		};
		
		var loadCurrentArticle = function ( articleID ) {
			
			var url = "http://localhost:8099/api/articles/" + articleID + "/versions/latest";
			getArticle( url, [ renderCurrentArticle, renderNewArticle ] );
			
		};
		
		$jq("#submitx").click( function( event ) {
			
			//event.preventDefault();
			
			//$jq( "#article-new-text" ).val( $jq( "#tinymce" ).html() );
			
			$jq("#articleForm").submit();
			
		});
		
		var loadEditable = function ( url, callbacks ) {
			
			$jq.ajax( {
				type: "get",
				url: url,
				dataType: "json",
			    processData: true,
				success: function( returned ) {
					if ( callbacks ) {
						for ( var i in callbacks ) {
							var callback = callbacks[ i ];
							callback( returned );	
						}
						
					}
					else {
						// success( button, statusElement, "Opgeslagen" );
					}
				},
				error: function(  jqXHR, textStatus, errorThrown ) {
					console.log( errorThrown );
				}
			});
			
		}
		
	
		$jq( document ).ready(function() {
			
			tinymce.init({
				  selector: '.tiny',
				  theme: 'inlite',
				  plugins: 'image media link paste contextmenu textpattern autolink codesample',
				  insert_toolbar: 'media codesample',
				  selection_toolbar: 'bold italic | quicklink',
				  inline: true,
				  paste_data_images: true,
				  content_css: []
				});
			
			var articleID 
				= getParameter(window.location.href,"article"); 
			
			loadCurrentArticle( articleID );
			
		});
		
		
	</script>
</html>
